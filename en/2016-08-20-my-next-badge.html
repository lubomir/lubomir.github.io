<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,700&subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.css">
    <link rel="alternate" type="application/rss+xml" href="../en/posts.atom">
    <link rel="icon" type="image/vnd.microsoft.icon" href="../favicon.ico">
    <title>What's my next badge?</title>
  </head>

  <body id="top">

    <div class="container">
      <h1>What's my next badge?</h1>

<div class="row metainfo">
    <div class="col-md-4">
        <a href="../">back to main page</a>
    </div>
    <div class="col-md-4">
        <strong>August 20, 2016</strong>
    </div>

    <div class="col-md-4">
        <span>Tagged as: <a href="../en/tags/fedora.html">Fedora</a>, <a href="../en/tags/badges.html">badges</a>, <a href="../en/tags/python.html">Python</a>.</span>
    </div>
</div>

<div class="post">
    <article>
        <p>I love <a href="http://badges.fedoraproject.org/">Fedora Badges</a>. I'm not saying all I do is to get more badges, but it's a great motivator. One thing that somewhat miss a guidance on what options I have, what should I do to get another badge, how much activity will it need.</p>
<p>Fedora Project is not the only community that awards badges to its members. For example Stack Overflow has badges as well. In you Stack Overflow profile you can see which badge you are likely going to get next and how much progress you have made on that.</p>
<figure>
<img src="../images/so-badges.png" alt="Badges on Stack Overflow" /><figcaption>Badges on Stack Overflow</figcaption>
</figure>
<p>Is it possible to do something like this for Fedora badges? Turns out it kind-of is. There actually is [a related issue] filed for the awesome <a href="https://pagure.io/fedora-hubs">Fedora Hubs project</a> to show options of next badges.</p>
<p>All this actually relies on having information about <a href="https://github.com/fedora-infra/tahrir/issues/343">badge paths</a>, but until it's available in production, it can be reasonably hacked based on badge name and a short list of exceptions.</p>
<h2 id="baby-steps">Baby steps</h2>
<p>First thing that comes to mind is to simply look at statistics of the badges. The ones that are awarded more often are most likely the easiest to get. Let's start from that by finding the 5 most common badges that I don't have yet.</p>
<p>However, just taking that is not a particularly good suggestion: in my case 3 out of these badges turn out to be &quot;have FAS account for at least X years&quot;. I'm slowly getting there, but there's not much I can do to speed this up. It makes sense to only show the first badge from each series.</p>
<p style="text-align: center">
<a href="https://badges.fedoraproject.org/badge/dont-call-it-a-comeback" title="Don't Call it a Comeback – You reactivated your Fedora account"><img width="128" src="https://badges.fedoraproject.org/pngs/dont-call-it-a-comeback.png" alt="dont-call-it-a-comeback icon"></a> <a href="https://badges.fedoraproject.org/badge/egg" title="Egg – You've had a FAS account for over one year"><img width="128" src="https://badges.fedoraproject.org/pngs/fas-account-egg.png" alt="egg icon"></a> <a href="https://badges.fedoraproject.org/badge/curious-penguin-ask-fedora-i" title="Curious Penguin (Ask Fedora I) – You had your first interaction with the Ask Fedora forum system."><img width="128" src="https://badges.fedoraproject.org/pngs/askbot-curious-penguin-01.png" alt="curious-penguin-ask-fedora-i icon"></a> <a href="https://badges.fedoraproject.org/badge/crypto-panda" title="Crypto Panda – You updated your GPG key with the Fedora Account System (FAS)"><img width="128" src="https://badges.fedoraproject.org/pngs/fas-crypto-panda.png" alt="crypto-panda icon"></a> <a href="https://badges.fedoraproject.org/badge/speak-up!" title="Speak Up! – Participated in an IRC meeting."><img width="128" src="https://badges.fedoraproject.org/pngs/irc-speak-up.png" alt="speak-up! icon"></a>
</p>
<h2 id="progress-towards-next-badge">Progress towards next badge</h2>
<p>Before we can estimate progress on getting a badge, it is important to understand how the badges are awarded. The system is based on the messaging bus<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>. The <a href="https://github.com/fedora-infra/fedbadges">fedbadges</a> service listens to the bus and every time it sees a message, it checks it against the rules it has defined.</p>
<p>The process starts with a simple check on the message content to make sure that the message is connected to some badge. If it is, more complex checks are performed. These checks either communicate with <a href="https://admin.fedoraproject.org/pkgdb/">pkgdb</a> or <a href="https://github.com/fedora-infra/datanommer">datanommer</a>, the service that archives old messages.</p>
<p>Now obviously I'm not keen on reimplementing the whole rule engine. Fortunately, it is possible to reuse the code from <a href="https://github.com/fedora-infra/fedbadges">fedbadges</a>. All badges that I care about for this part only need the datanommer integration, so that is a big help.</p>
<p>The biggest issue I faced with this is the fact that <a href="https://github.com/fedora-infra/fedbadges">fedbadges</a> connects directly to <a href="https://github.com/fedora-infra/datanommer">datanommer</a>'s database. I can't do that. My workaround was to write a script that would download all messages related to me from <a href="https://apps.fedoraproject.org/datagrepper/">datagrepper</a> and store them locally. This works reasonably well for me personally, but trying to get the messages for someone who is active for a longer time is going to be an issue.</p>
<p>Unfortunately, the list of messages related to a particular user is not enough for all badges: <a href="https://bodhi.fedoraproject.org/">Bodhi</a> has badges for other people voting on your updates. Therefore we also need all messages related to updates a person creates.</p>
<div style="text-align: center; margin-bottom: 1em">
<div style="display: inline-block; text-align: center">
<a href="https://badges.fedoraproject.org/badge/senior-badger-badger-ii" title="Senior Badger (Badger II) – You got (about) 50 Fedora Badges.  Way to go!" style="display: block"><img src="https://badges.fedoraproject.org/pngs/badger-02.png" width="128"></a>
<div style="width: 200px; height: 24px; background: #999; display: inline-block; color: #fff; position: relative;">
<div style="width: 94.0%; height: 100%; background: #3C6EB4; position: absolute;">

</div>
<div style="position: absolute; left: 0; right: 0; text-align:center; line-height: 24px; font-weight: bold;">
47 / 50
</div>
</div>
</div>
<div style="display: inline-block; text-align: center">
<a href="https://badges.fedoraproject.org/badge/chocolate-chip-cookie-ii" title="Chocolate Chip (Cookie II) – Ten people think you're great, because they've given you cookies. Yummy!" style="display: block"><img src="https://badges.fedoraproject.org/pngs/chocolatechipcookie.png" width="128"></a>
<div style="width: 200px; height: 24px; background: #999; display: inline-block; color: #fff; position: relative;">
<div style="width: 80.0%; height: 100%; background: #3C6EB4; position: absolute;">

</div>
<div style="position: absolute; left: 0; right: 0; text-align:center; line-height: 24px; font-weight: bold;">
8 / 10
</div>
</div>
</div>
<div style="display: inline-block; text-align: center">
<a href="https://badges.fedoraproject.org/badge/bloggin-it!-planet-iii" title="Bloggin' it! (Planet III) – You posted 10 or more things to the Fedora Planet!" style="display: block"><img src="https://badges.fedoraproject.org/pngs/planet-bloggin-it-03.png" width="128"></a>
<div style="width: 200px; height: 24px; background: #999; display: inline-block; color: #fff; position: relative;">
<div style="width: 60.0%; height: 100%; background: #3C6EB4; position: absolute;">

</div>
<div style="position: absolute; left: 0; right: 0; text-align:center; line-height: 24px; font-weight: bold;">
6 / 10
</div>
</div>
</div>
<div style="display: inline-block; text-align: center">
<a href="https://badges.fedoraproject.org/badge/catching-the-bull-tester-iv" title="Catching the Bull (Tester IV) – *(a great struggle, repeated escapes, discipline required)* Tested and added karma to 20 updates-testing updates in Bodhi. " style="display: block"><img src="https://badges.fedoraproject.org/pngs/tester-04.png" width="128"></a>
<div style="width: 200px; height: 24px; background: #999; display: inline-block; color: #fff; position: relative;">
<div style="width: 55.0%; height: 100%; background: #3C6EB4; position: absolute;">

</div>
<div style="position: absolute; left: 0; right: 0; text-align:center; line-height: 24px; font-weight: bold;">
11 / 20
</div>
</div>
</div>
<div style="display: inline-block; text-align: center">
<a href="https://badges.fedoraproject.org/badge/what-goes-around-comes-around-karma-iii" title="What goes around comes around (Karma III) – You have received 50 or more good karma on your bodhi updates" style="display: block"><img src="https://badges.fedoraproject.org/pngs/what-goes-around-comes-around-50.png" width="128"></a>
<div style="width: 200px; height: 24px; background: #999; display: inline-block; color: #fff; position: relative;">
<div style="width: 50.0%; height: 100%; background: #3C6EB4; position: absolute;">

</div>
<div style="position: absolute; left: 0; right: 0; text-align:center; line-height: 24px; font-weight: bold;">
25 / 50
</div>
</div>
</div>
<div style="display: inline-block; text-align: center">
<a href="https://badges.fedoraproject.org/badge/building-the-outer-ring-copr-build-vii" title="Building the Outer Ring (Copr Build VII) – Successfully completed 999 copr builds" style="display: block"><img src="https://badges.fedoraproject.org/pngs/copr-build-999.png" width="128"></a>
<div style="width: 200px; height: 24px; background: #999; display: inline-block; color: #fff; position: relative;">
<div style="width: 43.8438438438%; height: 100%; background: #3C6EB4; position: absolute;">

</div>
<div style="position: absolute; left: 0; right: 0; text-align:center; line-height: 24px; font-weight: bold;">
438 / 999
</div>
</div>
</div>
<div style="display: inline-block; text-align: center">
<a href="https://badges.fedoraproject.org/badge/what-goes-up...-koji-failure-ii" title="What goes up... (Koji Failure II) – Submitted 5 or more koji builds that failed to build." style="display: block"><img src="https://badges.fedoraproject.org/pngs/koji-what-goes-up-02.png" width="128"></a>
<div style="width: 200px; height: 24px; background: #999; display: inline-block; color: #fff; position: relative;">
<div style="width: 40.0%; height: 100%; background: #3C6EB4; position: absolute;">

</div>
<div style="position: absolute; left: 0; right: 0; text-align:center; line-height: 24px; font-weight: bold;">
2 / 5
</div>
</div>
</div>
<div style="display: inline-block; text-align: center">
<a href="https://badges.fedoraproject.org/badge/you-can-call-me-patches-scm-iv" title="You can call me &quot;Patches&quot; (SCM IV) – Pushed 400 commits to a Fedora package repository." style="display: block"><img src="https://badges.fedoraproject.org/pngs/you-can-call-me-patches-04.png" width="128"></a>
<div style="width: 200px; height: 24px; background: #999; display: inline-block; color: #fff; position: relative;">
<div style="width: 36.5%; height: 100%; background: #3C6EB4; position: absolute;">

</div>
<div style="position: absolute; left: 0; right: 0; text-align:center; line-height: 24px; font-weight: bold;">
146 / 400
</div>
</div>
</div>
<div style="display: inline-block; text-align: center">
<a href="https://badges.fedoraproject.org/badge/if-you-build-it...-koji-success-iv" title="If you build it... (Koji Success IV) – Succesfully completed 250 koji builds." style="display: block"><img src="https://badges.fedoraproject.org/pngs/koji-if-you-build-it-04.png" width="128"></a>
<div style="width: 200px; height: 24px; background: #999; display: inline-block; color: #fff; position: relative;">
<div style="width: 34.8%; height: 100%; background: #3C6EB4; position: absolute;">

</div>
<div style="position: absolute; left: 0; right: 0; text-align:center; line-height: 24px; font-weight: bold;">
87 / 250
</div>
</div>
</div>
<div style="display: inline-block; text-align: center">
<a href="https://badges.fedoraproject.org/badge/is-this-thing-on-updates-testing-iii" title="Is this thing on? (Updates-Testing III) – Pushed 100 bodhi updates to the testing repositories." style="display: block"><img src="https://badges.fedoraproject.org/pngs/is-this-thing-on-03.png" width="128"></a>
<div style="width: 200px; height: 24px; background: #999; display: inline-block; color: #fff; position: relative;">
<div style="width: 34.0%; height: 100%; background: #3C6EB4; position: absolute;">

</div>
<div style="position: absolute; left: 0; right: 0; text-align:center; line-height: 24px; font-weight: bold;">
34 / 100
</div>
</div>
</div>
<div style="display: inline-block; text-align: center">
<a href="https://badges.fedoraproject.org/badge/like-a-rock-updates-stable-iii" title="Like a Rock (Updates-Stable III) – Pushed 100 bodhi updates to the stable repositories." style="display: block"><img src="https://badges.fedoraproject.org/pngs/like-a-rock-03.png" width="128"></a>
<div style="width: 200px; height: 24px; background: #999; display: inline-block; color: #fff; position: relative;">
<div style="width: 24.0%; height: 100%; background: #3C6EB4; position: absolute;">

</div>
<div style="position: absolute; left: 0; right: 0; text-align:center; line-height: 24px; font-weight: bold;">
24 / 100
</div>
</div>
</div>
<div style="display: inline-block; text-align: center">
<a href="https://badges.fedoraproject.org/badge/science-kernel-tester-ii" title="Science (Kernel Tester II) – You completed 5 runs of the kernel regression test suite" style="display: block"><img src="https://badges.fedoraproject.org/pngs/kernel_tester_5.png" width="128"></a>
<div style="width: 200px; height: 24px; background: #999; display: inline-block; color: #fff; position: relative;">
<div style="width: 20.0%; height: 100%; background: #3C6EB4; position: absolute;">

</div>
<div style="position: absolute; left: 0; right: 0; text-align:center; line-height: 24px; font-weight: bold;">
1 / 5
</div>
</div>
</div>
</div>
<p>Another problematic badge is the Cookie one: the number of cookies you have get's reset every release cycle, so despite the number 8 above, I actually only have 1 right now.</p>
<h2 id="i-want-it-too">I want it too</h2>
<p>If you want to experiment with this code, I put it on Pagure as <a href="https://pagure.io/my-next-badge">my-next-badge</a>. There are instructions in README. I didn't try to optimize this in any way (yet), so it needs a lot of memory as all the messages must fit there. In my case, it is about 40 MiB. For other people, it might be significantly more. By &quot;more&quot; I mean it can easily be several gigabytes.</p>
<p>If you decide to try this, please note that the script is a hack that may not always be correct. It may try to convince you that you satisfy conditions for some badge even if you don't have it. Take it with a grain of salt.</p>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Well, almost. Some badges are awarded manually. We can ignore that here.<a href="#fnref1">↩</a></p></li>
</ol>
</section>
    </article>

    <h2 class="comments-header">Comments</h2>

    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function () {
            this.page.url = "https://lubomir.github.io//en/2016-08-20-my-next-badge.html";
            this.page.identifier = "/en/2016-08-20-my-next-badge.html";
        };
        (function() {
            var d = document, s = d.createElement('script');
            s.src = '//indexoflsedlar.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>

    </div><!-- .container -->

    <footer class="container">
        <ul class="nav nav-pills">
          <li><a href="../">Home</a></li>
          <li><a href="#top">Back to top</a></li>
          <li><a href="mailto:lubomir.sedlar@gmail.com">Contact me</a></li>
          <li class="last"><a href="../cookies.html">Cookies</a></li>
          <li class="license"><a href="http://creativecommons.org/licenses/by/4.0/">
            <img src="../images/cc-by.png" alt="CC-BY" title="Licensed under Creative Commons Attribution"></a>
          </li>
        </ul>
    </footer><!-- .container -->

    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-40665960-1']);
        _gaq.push(['_trackPageview']);
        (function() {
         var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
         ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
         var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
         })();
        window.cookieconsent_options = {"message":"This website uses some cookies.","dismiss":"Got it!","learnMore":"More info","link":"/cookies.html","theme":"dark-floating"};
     </script>
     <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js"></script>
  </body>
</html>
